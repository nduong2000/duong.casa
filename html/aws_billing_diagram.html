<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medical Billing System - Architecture Diagrams</title>
    
    <style>
        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        #root {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }
        .tab {
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            border: none;
            transition: all 0.2s ease;
        }
        .tab.active {
            background: #3b82f6;
            color: white;
        }
        .tab:not(.active) {
            background: #e5e7eb;
            color: #4b5563;
        }
        .tab:hover:not(.active) {
            background: #d1d5db;
        }
        .diagram-container {
            padding: 20px;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            margin-top: 20px;
            background: white;
        }
        .component {
            padding: 16px;
            background: white;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-width: 120px;
            min-height: 90px;
            margin: 8px;
            position: relative;
        }
        .icon {
            width: 36px;
            height: 36px;
            margin-bottom: 8px;
            font-size: 24px;
        }
        .label {
            font-size: 14px;
            font-weight: 600;
            text-align: center;
        }
        .flex-row {
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            justify-content: center;
        }
        .flex-col {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .gap-4 {
            gap: 16px;
        }
        .arrow {
            color: #6b7280;
            margin: 0 8px;
            font-size: 20px;
        }
        .description {
            font-style: italic;
            color: #6b7280;
            text-align: center;
            margin: 8px 0 24px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }
        .cloud-container {
            border: 2px solid #93c5fd; 
            border-radius: 12px; 
            padding: 24px; 
            background-color: #eff6ff;
            margin: 20px auto;
            max-width: 900px;
        }
        .cloud-title {
            text-align: center; 
            font-weight: bold; 
            color: #1d4ed8; 
            margin-bottom: 24px;
        }
        .app-container {
            border: 2px solid #c4b5fd; 
            border-radius: 12px; 
            padding: 24px; 
            background-color: #f5f3ff;
            margin: 20px auto;
            max-width: 900px;
        }
        .app-title {
            text-align: center; 
            font-weight: bold; 
            color: #5b21b6; 
            margin-bottom: 24px;
        }
        .db-table {
            border: 1px solid #cbd5e1;
            border-radius: 6px;
            overflow: hidden;
            margin: 10px;
            background-color: #f8fafc;
            width: 200px;
        }
        .db-table-header {
            background-color: #e0f2fe;
            padding: 8px;
            font-weight: bold;
            border-bottom: 1px solid #cbd5e1;
            color: #0c4a6e;
        }
        .db-table-content {
            padding: 8px;
        }
        .db-table-row {
            padding: 4px 0;
            font-size: 14px;
        }
        .db-table-pk {
            font-weight: bold;
        }
        .db-table-fk {
            font-style: italic;
        }
        .vertical-line {
            width: 2px;
            background-color: #cbd5e1;
            height: 40px;
            margin: 0 auto;
        }
        .horizontal-line {
            height: 2px;
            background-color: #cbd5e1;
            width: 100%;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div id="root">
        <h1 style="text-align: center; margin-bottom: 24px;">Medical Billing System Architecture</h1>
        
        <div class="tabs">
            <button class="tab active" onclick="showDiagram(0)">High-Level System</button>
            <button class="tab" onclick="showDiagram(1)">AWS Deployment</button>
            <button class="tab" onclick="showDiagram(2)">Application Components</button>
            <button class="tab" onclick="showDiagram(3)">Data Flow</button>
            <button class="tab" onclick="showDiagram(4)">Database Schema</button>
            <button class="tab" onclick="showDiagram(5)">Audit Process</button>
            <button class="tab" onclick="showDiagram(6)">Deployment Process</button>
        </div>
        
        <div id="diagrams">
            <!-- 1. High-Level System Architecture -->
            <div class="diagram-container" id="diagram-0">
                <p class="description">Overview of the main components in the Medical Billing System and their interactions</p>
                
                <div class="flex-col gap-4">
                    <div class="flex-row">
                        <div class="component">
                            <div class="icon" style="color: #3b82f6;">üåê</div>
                            <span class="label">Web Browser</span>
                        </div>
                        
                        <div class="arrow">‚ÜîÔ∏è</div>
                        
                        <div class="component">
                            <div class="icon" style="color: #10b981;">üìÑ</div>
                            <span class="label">Frontend App</span>
                        </div>
                        
                        <div class="arrow">‚ÜîÔ∏è</div>
                        
                        <div class="component">
                            <div class="icon" style="color: #8b5cf6;">üñ•Ô∏è</div>
                            <span class="label">API Backend</span>
                        </div>
                    </div>
                    
                    <div class="arrow" style="transform: rotate(90deg);">‚Üì</div>
                    
                    <div class="flex-row">
                        <div class="component">
                            <div class="icon" style="color: #f97316;">‚òÅÔ∏è</div>
                            <span class="label">AWS Bedrock (AI/ML)</span>
                        </div>
                        
                        <div class="arrow">‚ÜîÔ∏è</div>
                        
                        <div class="component">
                            <div class="icon" style="color: #2563eb;">üóÑÔ∏è</div>
                            <span class="label">PostgreSQL DB</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 2. AWS Deployment Architecture -->
            <div class="diagram-container" id="diagram-1" style="display: none;">
                <p class="description">Deployment architecture showing how the system is deployed on AWS infrastructure</p>
                
                <div class="cloud-container">
                    <div class="cloud-title">AWS Cloud</div>
                    
                    <div class="flex-col gap-4">
                        <div class="flex-row">
                            <div class="component">
                                <div class="icon" style="color: #3b82f6;">üåê</div>
                                <span class="label">Route 53 (DNS)</span>
                            </div>
                            
                            <div class="arrow">‚Üí</div>
                            
                            <div class="component">
                                <div class="icon" style="color: #10b981;">‚öñÔ∏è</div>
                                <span class="label">Elastic Load Balancer</span>
                            </div>
                        </div>
                        
                        <div class="arrow" style="transform: rotate(90deg);">‚Üì</div>
                        
                        <div class="flex-row">
                            <div class="component">
                                <div class="icon" style="color: #f59e0b;">üì¶</div>
                                <span class="label">S3 Bucket (Static Files)</span>
                            </div>
                            
                            <div style="width: 40px;"></div>
                            
                            <div class="component">
                                <div class="icon" style="color: #10b981;">üå±</div>
                                <span class="label">Elastic Beanstalk</span>
                            </div>
                        </div>
                        
                        <div class="arrow" style="transform: rotate(90deg);">‚Üì</div>
                        
                        <div class="flex-row">
                            <div class="component">
                                <div class="icon" style="color: #f97316;">‚òÅÔ∏è</div>
                                <span class="label">AWS Bedrock (AI Audit)</span>
                            </div>
                            
                            <div class="arrow">‚ÜîÔ∏è</div>
                            
                            <div class="component">
                                <div class="icon" style="color: #2563eb;">üóÑÔ∏è</div>
                                <span class="label">RDS (PostgreSQL)</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 3. Application Component Architecture -->
            <div class="diagram-container" id="diagram-2" style="display: none;">
                <p class="description">Logical architecture showing the main modules of the FastAPI application</p>
                
                <div class="app-container">
                    <div class="app-title">FastAPI Application</div>
                    
                    <div class="flex-col gap-4">
                        <div class="flex-row">
                            <div class="component">
                                <div class="icon" style="color: #3b82f6;">üë§</div>
                                <span class="label">Patient Module</span>
                            </div>
                            
                            <div class="component">
                                <div class="icon" style="color: #10b981;">üë®‚Äç‚öïÔ∏è</div>
                                <span class="label">Provider Module</span>
                            </div>
                            
                            <div class="component">
                                <div class="icon" style="color: #f59e0b;">ü©∫</div>
                                <span class="label">Service Module</span>
                            </div>
                        </div>
                        
                        <div class="flex-row">
                            <div class="arrow" style="transform: rotate(90deg);">‚Üì</div>
                            <div class="arrow" style="transform: rotate(90deg);">‚Üì</div>
                            <div class="arrow" style="transform: rotate(90deg);">‚Üì</div>
                        </div>
                        
                        <div class="flex-row">
                            <div class="component">
                                <div class="icon" style="color: #8b5cf6;">üìÖ</div>
                                <span class="label">Appointment Module</span>
                            </div>
                            
                            <div class="component">
                                <div class="icon" style="color: #ef4444;">üìã</div>
                                <span class="label">Claim Module</span>
                            </div>
                            
                            <div class="component">
                                <div class="icon" style="color: #2563eb;">üí≥</div>
                                <span class="label">Payment Module</span>
                            </div>
                        </div>
                        
                        <div class="vertical-line"></div>
                        
                        <div class="component" style="width: 200px; background-color: #fff7ed; border-color: #fdba74;">
                            <div class="icon" style="color: #f97316;">üìä</div>
                            <span class="label">Audit Module (Bedrock AI)</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 4. Data Flow Diagram -->
            <div class="diagram-container" id="diagram-3" style="display: none;">
                <p class="description">Diagram showing how data flows through the different components of the system</p>
                
                <div class="flex-col gap-4">
                    <div class="flex-row">
                        <div class="component">
                            <div class="icon" style="color: #3b82f6;">üë§</div>
                            <span class="label">Patient Data</span>
                        </div>
                        
                        <div class="arrow">‚Üí</div>
                        
                        <div class="component">
                            <div class="icon" style="color: #10b981;">üë®‚Äç‚öïÔ∏è</div>
                            <span class="label">Provider Data</span>
                        </div>
                        
                        <div class="arrow">‚Üí</div>
                        
                        <div class="component">
                            <div class="icon" style="color: #f59e0b;">ü©∫</div>
                            <span class="label">Service Data</span>
                        </div>
                        
                        <div class="arrow">‚Üí</div>
                        
                        <div class="component">
                            <div class="icon" style="color: #8b5cf6;">üìÖ</div>
                            <span class="label">Appointment Data</span>
                        </div>
                    </div>
                    
                    <div style="display: flex; justify-content: space-between; width: 100%; max-width: 900px; margin: 0 auto;">
                        <div class="vertical-line"></div>
                        <div class="vertical-line"></div>
                    </div>
                    
                    <div class="flex-row">
                        <div class="component">
                            <div class="icon" style="color: #2563eb;">üí≥</div>
                            <span class="label">Payment Processing</span>
                        </div>
                        
                        <div class="arrow">‚Üê</div>
                        
                        <div class="component">
                            <div class="icon" style="color: #ef4444;">üìã</div>
                            <span class="label">Claim Processing</span>
                        </div>
                    </div>
                    
                    <div class="vertical-line"></div>
                    
                    <div class="component" style="width: 200px; background-color: #fff7ed; border-color: #fdba74;">
                        <div class="icon" style="color: #f97316;">üìä</div>
                        <span class="label">Audit System</span>
                    </div>
                </div>
            </div>
            
            <!-- 5. Database Schema Diagram -->
            <div class="diagram-container" id="diagram-4" style="display: none;">
                <p class="description">Simplified database schema showing the main tables and their relationships</p>
                
                <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 20px;">
                    <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; margin-bottom: 30px;">
                        <div class="db-table" style="border-color: #93c5fd; background-color: #eff6ff;">
                            <div class="db-table-header" style="background-color: #bfdbfe; color: #1e40af;">patients</div>
                            <div class="db-table-content">
                                <div class="db-table-row db-table-pk">patient_id (PK)</div>
                                <div class="db-table-row">first_name</div>
                                <div class="db-table-row">last_name</div>
                                <div class="db-table-row">dob</div>
                                <div class="db-table-row">address</div>
                                <div class="db-table-row">phone</div>
                            </div>
                        </div>
                        
                        <div class="db-table" style="border-color: #86efac; background-color: #f0fdf4;">
                            <div class="db-table-header" style="background-color: #bbf7d0; color: #166534;">providers</div>
                            <div class="db-table-content">
                                <div class="db-table-row db-table-pk">provider_id (PK)</div>
                                <div class="db-table-row">provider_name</div>
                                <div class="db-table-row">specialty</div>
                                <div class="db-table-row">npi_number</div>
                                <div class="db-table-row">tax_id</div>
                                <div class="db-table-row">address</div>
                            </div>
                        </div>
                        
                        <div class="db-table" style="border-color: #fcd34d; background-color: #fffbeb;">
                            <div class="db-table-header" style="background-color: #fde68a; color: #92400e;">services</div>
                            <div class="db-table-content">
                                <div class="db-table-row db-table-pk">service_id (PK)</div>
                                <div class="db-table-row">cpt_code</div>
                                <div class="db-table-row">description</div>
                                <div class="db-table-row">base_price</div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; margin-bottom: 30px;">
                        <div class="db-table" style="border-color: #c4b5fd; background-color: #f5f3ff;">
                            <div class="db-table-header" style="background-color: #ddd6fe; color: #5b21b6;">appointments</div>
                            <div class="db-table-content">
                                <div class="db-table-row db-table-pk">appointment_id (PK)</div>
                                <div class="db-table-row db-table-fk">patient_id (FK)</div>
                                <div class="db-table-row db-table-fk">provider_id (FK)</div>
                                <div class="db-table-row">appointment_date</div>
                                <div class="db-table-row">appointment_type</div>
                                <div class="db-table-row">notes</div>
                            </div>
                        </div>
                        
                        <div class="db-table" style="border-color: #fca5a5; background-color: #fef2f2;">
                            <div class="db-table-header" style="background-color: #fecaca; color: #991b1b;">claims</div>
                            <div class="db-table-content">
                                <div class="db-table-row db-table-pk">claim_id (PK)</div>
                                <div class="db-table-row db-table-fk">patient_id (FK)</div>
                                <div class="db-table-row db-table-fk">provider_id (FK)</div>
                                <div class="db-table-row">claim_date</div>
                                <div class="db-table-row">total_amount</div>
                                <div class="db-table-row">status</div>
                                <div class="db-table-row">fraud_score</div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 20px;">
                        <div class="db-table" style="border-color: #a5b4fc; background-color: #eef2ff;">
                            <div class="db-table-header" style="background-color: #c7d2fe; color: #3730a3;">claim_items</div>
                            <div class="db-table-content">
                                <div class="db-table-row db-table-pk">item_id (PK)</div>
                                <div class="db-table-row db-table-fk">claim_id (FK)</div>
                                <div class="db-table-row db-table-fk">service_id (FK)</div>
                                <div class="db-table-row">quantity</div>
                                <div class="db-table-row">charge_amount</div>
                            </div>
                        </div>
                        
                        <div class="db-table" style="border-color: #93c5fd; background-color: #eff6ff;">
                            <div class="db-table-header" style="background-color: #bfdbfe; color: #1e40af;">payments</div>
                            <div class="db-table-content">
                                <div class="db-table-row db-table-pk">payment_id (PK)</div>
                                <div class="db-table-row db-table-fk">claim_id (FK)</div>
                                <div class="db-table-row">payment_date</div>
                                <div class="db-table-row">payment_amount</div>
                                <div class="db-table-row">payment_method</div>
                                <div class="db-table-row">status</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 6. Audit Process Flow -->
            <div class="diagram-container" id="diagram-5" style="display: none;">
                <p class="description">Flow diagram showing the audit process using AWS Bedrock for claim analysis</p>
                
                <div class="flex-col gap-4">
                    <div class="flex-row">
                        <div class="component">
                            <div class="icon" style="color: #3b82f6;">üìã</div>
                            <span class="label">Claim Submission</span>
                        </div>
                        
                        <div class="arrow">‚Üí</div>
                        
                        <div class="component">
                            <div class="icon" style="color: #8b5cf6;">üîÑ</div>
                            <span class="label">Format Claim Data for LLM</span>
                        </div>
                        
                        <div class="arrow">‚Üí</div>
                        
                        <div class="component" style="background-color: #fff7ed; border-color: #fdba74;">
                            <div class="icon" style="color: #f97316;">‚òÅÔ∏è</div>
                            <span class="label">AWS Bedrock AI Analysis</span>
                        </div>
                        
                        <div class="arrow">‚Üí</div>
                        
                        <div class="component">
                            <div class="icon" style="color: #ef4444;">üìä</div>
                            <span class="label">Calculate Fraud Score</span>
                        </div>
                    </div>
                    
                    <div style="align-self: flex-end; margin-right: 100px;">
                        <div class="arrow" style="transform: rotate(90deg);">‚Üì</div>
                    </div>
                    
                    <div class="flex-row">
                        <div class="component">
                            <div class="icon" style="color: #2563eb;">üíæ</div>
                            <span class="label">Store Audit Results</span>
                        </div>
                        
                        <div class="arrow">‚Üê</div>
                        
                        <div class="component">
                            <div class="icon" style="color: #10b981;">üîÑ</div>
                            <span class="label">Update Claim Status</span>
                        </div>
                        
                        <div class="arrow">‚Üê</div>
                        
                        <div class="component">
                            <div class="icon" style="color: #f59e0b;">üìÑ</div>
                            <span class="label">Generate Audit Report</span>
                        </div>
                        
                        <div class="arrow">‚Üê</div>
                        
                        <div class="component">
                            <div class="icon" style="color: #8b5cf6;">üß†</div>
                            <span class="label">ML Fraud Detection</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 7. Deployment Process Flow -->
            <div class="diagram-container" id="diagram-6" style="display: none;">
                <p class="description">Flow diagram showing the deployment process for the application on AWS infrastructure</p>
                
                <div class="flex-col gap-4">
                    <div class="flex-row">
                        <div class="component">
                            <div class="icon" style="color: #3b82f6;">üíª</div>
                            <span class="label">Local Dev Environment</span>
                        </div>
                        
                        <div class="arrow">‚Üí</div>
                        
                        <div class="component">
                            <div class="icon" style="color: #8b5cf6;">üìù</div>
                            <span class="label">Git Commit Changes</span>
                        </div>
                        
                        <div class="arrow">‚Üí</div>
                        
                        <div class="component">
                            <div class="icon" style="color: #10b981;">üì¶</div>
                            <span class="label">Create EB App Version</span>
                        </div>
                        
                        <div class="arrow">‚Üí</div>
                        
                        <div class="component">
                            <div class="icon" style="color: #f59e0b;">üîº</div>
                            <span class="label">Upload to S3 Bucket</span>
                        </div>
                    </div>
                    
                    <div style="align-self: flex-end; margin-right: 100px;">
                        <div class="arrow" style="transform: rotate(90deg);">‚Üì</div>
                    </div>
                    
                    <div class="flex-row">
                        <div class="component">
                            <div class="icon" style="color: #3b82f6;">üåê</div>
                            <span class="label">Domain Setup</span>
                        </div>
                        
                        <div class="arrow">‚Üê</div>
                        
                        <div class="component">
                            <div class="icon" style="color: #10b981;">üîí</div>
                            <span class="label">Configure HTTPS & CORS</span>
                        </div>
                        
                        <div class="arrow">‚Üê</div>
                        
                        <div class="component">
                            <div class="icon" style="color: #8b5cf6;">üöÄ</div>
                            <span class="label">Deploy to Elastic Beanstalk</span>
                        </div>
                        
                        <div class="arrow">‚Üê</div>
                        
                        <div class="component">
                            <div class="icon" style="color: #ef4444;">‚öôÔ∏è</div>
                            <span class="label">EB Environment Setup</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function showDiagram(index) {
            // Hide all diagrams
            const diagrams = document.querySelectorAll('.diagram-container');
            diagrams.forEach(diagram => {
                diagram.style.display = 'none';
            });
            
            // Show the selected diagram
            document.getElementById(`diagram-${index}`).style.display = 'block';
            
            // Update active tab
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach((tab, i) => {
                if (i === index) {
                    tab.classList.add('active');
                } else {
                    tab.classList.remove('active');
                }
            });
        }
    </script>
</body>
</html>